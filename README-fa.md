<div align="center">
  <img src="./assets/logo.svg" alt="لوگو بلوچت" width="120" />

  <h1>بلوچت (BluChat)</h1>
  <p><strong>🔗 پیام‌رسانی امن آفلاین با بلوتوث</strong></p>

  <p>
    <a href="#-شروع-سریع">شروع سریع</a> •
    <a href="#-ویژگی‌ها">ویژگی‌ها</a> •
    <a href="#-نقشه-راه">نقشه راه</a> •
    <a href="#-مشارکت">مشارکت</a>
  </p>

  <p>
    <a href="./README-fa.md">🇮🇷 فارسی</a> •
    <a href="./README.md">🇺🇸 English</a>
  </p>

  <p>
    <img src="https://img.shields.io/badge/PWA-Ready-blue?style=flat-square" alt="PWA Ready" />
    <img src="https://img.shields.io/badge/Offline-First-green?style=flat-square" alt="Offline First" />
    <img src="https://img.shields.io/badge/Bluetooth-Mesh-purple?style=flat-square" alt="Bluetooth Mesh" />
    <img src="https://img.shields.io/badge/E2E-Encrypted-red?style=flat-square" alt="End-to-End Encrypted" />
  </p>
</div>

---

**بلوچت** یه برنامه پیش‌رونده وب هست که بهتون امکان پیام‌رسانی امن و آفلاین رو از طریق شبکه‌ی بلوتوث می‌ده. وقتی اینترنت قطع می‌شه، بلوچت شما رو با دوستاتون از طریق ارتباط رمزنگاری شده و مستقیم وصل نگه می‌داره.

## ✨ چرا بلوچت؟

تو دنیای پرارتباط امروز، ما اکثراً فراموش می‌کنیم که اتصال به اینترنت همیشه تضمین شده نیست. بلایای طبیعی، قطعی شبکه، یا حتی بودن تو مناطق دورافتاده می‌تونه ما رو از پلتفرم‌های معمولی پیام‌رسانی جدا کنه. بلوچت این مشکل رو با ایجاد یه شبکه ارتباطی مقاوم که کاملاً آفلاین کار می‌کنه، حل می‌کنه.

### 🌟 ویژگی‌های کلیدی

- **🔄 آفلاین اول**: بدون اتصال اینترنت کار می‌کنه
- **🔐 رمزنگاری سرتاسری**: پیام‌ها با رمزنگاری TweetNaCl محافظت می‌شن
- **📡 شبکه بلوتوث**: مسیریابی پیام چندجهشه از طریق شبکه همتا
- **⚡ برنامه پیش‌رونده وب**: مثل یه اپ بومی نصب می‌شه، همه جا کار می‌کنه
- **🌐 چندپلتفرمه**: روی دسکتاپ، موبایل و تبلت کار می‌کنه
- **🔒 محافظت از حریم خصوصی**: بدون سرور، بدون جمع‌آوری داده، بدون ردیابی

## 🚀 شروع سریع

### پیش‌نیازها

- مرورگر مدرن با پشتیبانی بلوتوث (کروم، اج، اپرا)
- دستگاه مجهز به بلوتوث
- اتصال HTTPS (برای Web Bluetooth API لازمه)

### نصب

1. **برو به اپ**: آدرس بلوچت رو تو مرورگرت باز کن
2. **نصب PWA**: وقتی بهت پیشنهاد داد، روی "نصب" کلیک کن یا از گزینه نصب مرورگرت استفاده کن
3. **فعال کردن بلوتوث**: وقتی خواست، اجازه استفاده از بلوتوث رو بده
4. **شروع چت**: کانال بساز یا وارد شو و شروع کن به پیام‌دادن!

### راه‌اندازی برای توسعه

```bash
# کلون کردن مخزن
git clone https://github.com/ali-master/bluchat.git
cd bluchat

# نصب وابستگی‌ها
pnpm install

# شروع سرور توسعه
pnpm dev

# ساخت برای تولید
pnpm build
```

## 🔧 ویژگی‌ها

### پیام‌رسانی اصلی
- **پشتیبانی چندکاناله**: کانال‌های مختلف مکالمه بساز و وارد شو
- **پیام‌رسانی بلادرنگ**: تحویل فوری پیام بین همتاهای متصل
- **ماندگاری پیام**: ذخیره‌سازی آفلاین با IndexedDB
- **امنیت کانال**: کانال‌های خصوصی محافظت شده با رمز

### امنیت و حریم خصوصی
- **رمزنگاری سرتاسری**: همه پیام‌ها با رمزنگاری استاندارد صنعتی محافظت می‌شن
- **محرمانگی کامل رو به جلو**: کلیدهای منحصربفرد برای هر جلسه
- **بدون سرور مرکزی**: معماری کاملاً غیرمتمرکز
- **فقط داده محلی**: همه داده‌ها محلی روی دستگاهتون ذخیره می‌شه

### اتصال
- **بلوتوث کم‌مصرف**: مصرف انرژی کارآمد
- **شبکه‌سازی شبکه‌ای**: پیام‌ها از طریق چندین همتا مسیریابی می‌شن
- **کشف خودکار**: تشخیص و اتصال خودکار همتا
- **مدیریت اتصال**: اتصال مجدد هوشمند و مدیریت همتا

### تجربه کاربری
- **رابط مدرن**: رابط پاک و ریسپانسیو ساخته شده با shadcn/ui
- **حالت تاریک/روشن**: تغییر خودکار تم
- **موبایل اول**: بهینه شده برای دستگاه‌های لمسی
- **نشانگرهای آفلاین**: بازخورد واضح وضعیت اتصال

## 🗺️ نقشه راه

### ✅ ویژگی‌های تکمیل شده

- [x] **زیرساخت اصلی**
  - [x] راه‌اندازی Progressive Web App با service worker ها
  - [x] یکپارچگی Bluetooth Web API
  - [x] پایه React + TypeScript
  - [x] مدیریت state با Zustand

- [x] **سیستم پیام‌رسانی**
  - [x] پیام‌رسانی بلادرنگ همتا به همتا
  - [x] پشتیبانی چندکاناله با نام‌گذاری هشتگ
  - [x] ماندگاری پیام با IndexedDB
  - [x] مسیریابی و relay خودکار مبتنی بر TTL
  - [x] تکه‌تکه کردن پیام برای محتوای بزرگ
  - [x] بهینه‌سازی فشرده‌سازی LZ4

- [x] **امنیت و رمزنگاری**
  - [x] پروتکل تبادل کلید X25519
  - [x] امضای دیجیتال Ed25519
  - [x] رمزنگاری سرتاسری با TweetNaCl
  - [x] استخراج کلید مبتنی بر Scrypt برای کانال‌ها
  - [x] پیاده‌سازی Perfect Forward Secrecy
  - [x] امضا و تأیید پیام

- [x] **شبکه‌سازی بلوتوث Mesh**
  - [x] پشتیبانی حالت دوگانه central/peripheral
  - [x] توپولوژی mesh با جداول مسیریابی
  - [x] ارسال پیام چندجهشه
  - [x] جلوگیری از تکرار با ردیابی ID پیام
  - [x] کشف شبکه و اعلان‌های همتا

- [x] **ویژگی‌های حریم خصوصی**
  - [x] چرخش هویت موقت (چرخه ۲ ساعته)
  - [x] تولید ترافیک پوششی
  - [x] تصادفی‌سازی زمان‌بندی
  - [x] padding پیام برای اندازه‌های یکسان
  - [x] مدیریت مجموعه ناشناس

- [x] **مدیریت کانال**
  - [x] ماشین حالت (کشف → پیوستن → احراز هویت → فعال)
  - [x] نام‌گذاری مبتنی بر هشتگ (#نام_کانال)
  - [x] امتیازات مالک و کنترل دسترسی
  - [x] کانال‌های خصوصی محافظت شده با رمز
  - [x] کشف خودکار کانال

- [x] **رابط کاربری**
  - [x] طراحی مدرن ریسپانسیو
  - [x] کتابخانه کامپوننت shadcn/ui
  - [x] تغییر تم تاریک/روشن با ماندگاری
  - [x] رابط بهینه شده برای موبایل
  - [x] نشانگرهای وضعیت اتصال بلادرنگ
  - [x] دیالوگ‌های تأیید جایگزین prompt های مرورگر

- [x] **پروتکل و عملکرد**
  - [x] ساختار بسته باینری بهینه (هدر ۳۲ بایتی)
  - [x] کدگذاری کارآمد پیام با timestamps نسبی
  - [x] فشرده‌سازی هوشمند (فقط وقتی مفیده)
  - [x] الگوهای عملکرد آگاه از باتری

- [x] **تجربه توسعه‌دهنده**
  - [x] حالت سخت TypeScript
  - [x] پیکربندی ESLint + Prettier
  - [x] سیستم ساخت Vite با HMR
  - [x] معماری سرویس مدولار

### 🔄 در حال انجام

- [ ] **بهبودهای پلتفرم وب**
  - [ ] تکمیل منطق بازسازی قطعات پیام
  - [ ] بهینه‌سازی پیشرفته اسکن پس‌زمینه
  - [ ] هماهنگی mesh با Service Worker
  - [ ] fallback WebRTC برای اتصال

### 🚀 ویژگی‌های آینده

- [ ] **پیام‌رسانی پیشرفته**
  - [ ] پشتیبانی اشتراک فایل
  - [ ] پیام‌های صوتی
  - [ ] واکنش‌ها و پاسخ‌های پیام
  - [ ] قابلیت جستجوی پیام
  - [ ] پشتیبان‌گیری/صادرات پیام

- [ ] **ویژگی‌های شبکه**
  - [ ] پشتیبانی Wi-Fi Direct
  - [ ] شبکه‌سازی ترکیبی (بلوتوث + Wi-Fi)
  - [ ] حالت پل (اتصال چندین شبکه)
  - [ ] تجسم توپولوژی شبکه

- [ ] **تجربه کاربری**
  - [ ] پروفایل‌ها و آواتارهای کاربری
  - [ ] اعلان‌های پیام
  - [ ] نشانگرهای تایپ
  - [ ] رسید خواندن پیام
  - [ ] مدیریت مخاطبین

- [ ] **ویژگی‌های توسعه‌دهنده**
  - [ ] سیستم پلاگین
  - [ ] API برای یکپارچگی‌های شخص ثالث
  - [ ] پروتکل‌های رمزنگاری سفارشی
  - [ ] ابزارهای تشخیص شبکه

- [ ] **پشتیبانی پلتفرم**
  - [ ] اپ دسکتاپ Electron
  - [ ] اپ موبایل React Native
  - [ ] افزونه مرورگر
  - [ ] رابط خط فرمان

### 🎯 چشم‌انداز دراز مدت

- [ ] **ویژگی‌های سازمانی**
  - [ ] مدیریت سازمان
  - [ ] کنترل‌های مدیر و نظارت
  - [ ] گزارش‌های انطباق و حسابرسی
  - [ ] یکپارچگی با سیستم‌های سازمانی

- [ ] **تحقیق و نوآوری**
  - [ ] رمزنگاری مقاوم در برابر کوانتوم
  - [ ] تشخیص اسپم مبتنی بر هوش مصنوعی
  - [ ] پروتکل‌های مسیریابی پیشرفته
  - [ ] حالت‌های ارتباط اضطراری

## 🛠️ پشته فناوری

- **فرانت‌اند**: React 18, TypeScript, Vite
- **مدیریت State**: Zustand
- **کامپوننت‌های UI**: shadcn/ui, Tailwind CSS
- **رمزنگاری**: TweetNaCl, Scrypt-JS
- **ذخیره‌سازی**: IndexedDB
- **اتصال**: Web Bluetooth API
- **PWA**: Workbox, Service Workers

## 📱 پشتیبانی مرورگر

| مرورگر | دسکتاپ | موبایل | یادداشت |
|---------|---------|---------|-------|
| کروم | ✅ | ✅ | پشتیبانی کامل |
| اج | ✅ | ✅ | پشتیبانی کامل |
| اپرا | ✅ | ✅ | پشتیبانی کامل |
| سافاری | ❌ | ❌ | پشتیبانی Web Bluetooth نداره |
| فایرفاکس | ❌ | ❌ | پشتیبانی Web Bluetooth نداره |

## ⚠️ محدودیت‌های پلتفرم وب

اگرچه بلوچت مشخصات کامل پروتکل BitChat رو پیاده‌سازی می‌کنه، پلتفرم وب محدودیت‌های ذاتی داره:

- **🚫 پخش سیگنال واقعی BLE**: Web Bluetooth API حالت peripheral رو پشتیبانی نمی‌کنه - قابلیت‌های شبکه‌سازی را محدود می‌کنه
- **⏱️ اسکن پس‌زمینه**: سیاست‌های امنیتی مرورگر اسکن مداوم پس‌زمینه رو محدود می‌کنه
- **🧩 بازسازی قطعات**: فریم‌ورک پایه پیاده‌سازی شده، منطق کامل بازسازی پیام نیاز به تکمیل داره
- **⚡ عملکرد بومی**: پیاده‌سازی وب سربار بیشتری نسبت به stack بومی BLE داره

**💡 برای استفاده تولیدی**: پیاده‌سازی‌های بومی موبایل/دسکتاپ رو برای عملکرد بهینه شبکه‌سازی در نظر بگیرید.

## 🔒 امنیت

بلوچت امنیت رو جدی می‌گیره:

- **جمع‌آوری داده نداریم**: هیچ داده کاربری جمع‌آوری، ذخیره یا تحلیل نمی‌کنیم
- **ذخیره‌سازی محلی**: همه داده‌ها روی دستگاه شما باقی می‌مونه
- **متن‌باز**: کد قابل بررسی عمومی هست
- **رمزنگاری استاندارد**: از کتابخانه‌های رمزنگاری معتبر استفاده می‌کنه
- **بروزرسانی‌های منظم**: وصله‌های امنیتی و بهبودها

## 🤝 مشارکت

ما از مشارکت انجمن استقبال می‌کنیم! چه علاقه‌مند باشید به:

- 🐛 رفع باگ و بهبودها
- ✨ ویژگی‌ها و پیشرفت‌های جدید
- 📚 بهبود مستندات
- 🎨 بهبودهای UI/UX
- 🔒 حسابرسی‌های امنیتی

لطفاً [راهنمای مشارکت](./CONTRIBUTING.md) رو برای جزئیات شروع کار ببینید.

### راهنماهای توسعه

1. **کیفیت کد**: بهترین شیوه‌های TypeScript رو دنبال کنید
2. **تست**: برای ویژگی‌های جدید تست بنویسید
3. **مستندات**: مستندات رو برای تغییرات کاربری بروز کنید
4. **امنیت**: پیامدهای امنیتی همه تغییرات رو در نظر بگیرید

## 📄 مجوز

مجوز MIT - فایل [LICENSE](./LICENSE) رو برای جزئیات ببینید.

## 🙏 تشکرات

بلوچت از پروژه [BitChat](https://github.com/jackjackbits/bitchat) الهام گرفته و روی دوش پروژه‌های متن‌باز زیادی ساخته شده:

- [TweetNaCl](https://tweetnacl.js.org/) برای رمزنگاری
- [React](https://react.dev/) برای فریمورک UI
- [shadcn/ui](https://ui.shadcn.com/) برای کامپوننت‌های زیبا
- [Zustand](https://zustand-demo.pmnd.rs/) برای مدیریت state

---

<div align="center">

**با ❤️ توسط [علی ترکی](https://github.com/ali-master) برای دنیای بیشتر متصل ساخته شده**

[🌟 ستاره بدید تو گیت‌هاب](https://github.com/ali-master/bluchat) • [🐛 گزارش مشکلات](https://github.com/ali-master/bluchat/issues) • [💬 بپیوندید به انجمن](https://github.com/ali-master/bluchat/discussions)

</div>
